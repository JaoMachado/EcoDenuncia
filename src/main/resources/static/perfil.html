<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <!-- FALTANDO APENAS INTEGRAR O perfil.Js Dps -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>EcoDenúncia - Meu Perfil</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <link
      rel="icon"
      href="assets/img/kaiadmin/favicon.ico"
      type="image/x-icon"
    />

    <script src="assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
      WebFont.load({
        google: { families: ["Public Sans:300,400,500,600,700"] },
        custom: {
          families: [
            "Font Awesome 5 Solid",
            "Font Awesome 5 Regular",
            "Font Awesome 5 Brands",
            "simple-line-icons",
          ],
          urls: ["assets/css/fonts.min.css"],
        },
        active: function () {
          sessionStorage.fonts = true;
        },
      });
    </script>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/plugins.min.css" />
    <link rel="stylesheet" href="assets/css/kaiadmin.min.css" />
    <link rel="stylesheet" href="assets/css/demo.css" />
  </head>
  <body>
    <div class="wrapper">
      <div class="sidebar" data-background-color="dark">
        <div class="sidebar-logo">
          <div class="logo-header" data-background-color="dark">
            <a href="index.html" class="logo">
              <img
                src="assets/img/kaiadmin/logo_light.png"
                alt="navbar brand"
                class="navbar-brand mt-3"
                height="70"
              />
            </a>
            <div class="nav-toggle">
              <button class="btn btn-toggle toggle-sidebar">
                <i class="gg-menu-right"></i>
              </button>
              <button class="btn btn-toggle sidenav-toggler">
                <i class="gg-menu-left"></i>
              </button>
            </div>
            <button class="topbar-toggler more">
              <i class="gg-more-vertical-alt"></i>
            </button>
          </div>
        </div>
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
          <div class="sidebar-content">
            <ul class="nav nav-secondary">
              <li class="nav-item">
                <a href="index.html"
                  ><i class="fas fa-home"></i>
                  <p>Início</p></a
                >
              </li>
              <li class="nav-item">
                <a href="denunciar.html" class="menu-denunciar"
                  ><i class="fas fa-bullhorn"></i>
                  <p>Denunciar</p></a
                >
              </li>
              <li class="nav-item">
                <a href="administracao.html" class="menu-administracao"
                  ><i class="fas fa-cogs"></i>
                  <p>Administração</p></a
                >
              </li>
              <li class="nav-item">
                <a href="gestao.html" class="menu-gestao"
                  ><i class="fas fa-user-cog"></i>
                  <p>Gestão</p></a
                >
              </li>
              <li class="nav-item">
                <a href="estatistica.html" class="menu-estatisticas"
                  ><i class="fas fa-chart-bar"></i>
                  <p>Estatísticas</p></a
                >
              </li>
              <li class="nav-item">
                <a href="boas_praticas.html"
                  ><i class="fas fa-globe-americas"></i>
                  <p>Boas Práticas</p></a
                >
              </li>
              <li class="nav-item">
                <a href="sobre.html"
                  ><i class="fas fa-info-circle"></i>
                  <p>Sobre</p></a
                >
              </li>
            </ul>
          </div>
        </div>
      </div>
      <div class="main-panel">
        <div class="main-header">
          <nav
            class="navbar navbar-header navbar-header-transparent navbar-expand-lg border-bottom"
          >
            <div class="container-fluid">
              <ul class="navbar-nav topbar-nav ms-md-auto align-items-center">
                <li class="nav-item topbar-user dropdown hidden-caret">
                  <a
                    class="dropdown-toggle profile-pic"
                    data-bs-toggle="dropdown"
                    href="#"
                    aria-expanded="false"
                  >
                    <div class="avatar-sm">
                      <img
                        src="assets/img/profile.jpg"
                        alt="..."
                        class="avatar-img rounded-circle"
                      />
                    </div>
                    <span class="profile-username"
                      ><span class="op-7">Olá,</span
                      ><span class="fw-bold">Gabriel</span></span
                    >
                  </a>
                  <ul class="dropdown-menu dropdown-user animated fadeIn">
                    <div class="dropdown-user-scroll scrollbar-outer">
                      <li>
                        <div class="user-box">
                          <div class="avatar-lg">
                            <img
                              src="assets/img/profile.jpg"
                              alt="image profile"
                              class="avatar-img rounded"
                            />
                          </div>
                          <div class="u-text">
                            <h4>Gabriel</h4>
                            <p class="text-muted">gabriel@gmail.com</p>
                            <a
                              href="perfil.html"
                              class="btn btn-xs btn-secondary btn-sm"
                              >Perfil</a
                            >
                          </div>
                        </div>
                      </li>
                      <li>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#" id="logoutBtn"
                          >Logout</a
                        >
                      </li>
                    </div>
                  </ul>
                </li>
              </ul>
            </div>
          </nav>
        </div>

        <div class="container">
          <div class="page-inner">
            <div
              class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4"
            >
              <div>
                <h3 class="fw-bold mb-3">Perfil de Usuário</h3>
                <p class="text-muted mb-0">Visualize seus dados cadastrais.</p>
              </div>
            </div>

            <div class="row justify-content-center">
              <div class="col-lg-10">
                <div class="card">
                  <div class="card-header">
                    <div
                      class="d-flex justify-content-between align-items-center"
                    >
                      <div class="card-title">Meus Dados</div>
                      <div>
                        <button id="btnEditar" class="btn btn-primary btn-sm">
                          <i class="fa fa-edit"></i> Editar
                        </button>
                        <button
                          id="btnSalvar"
                          class="btn btn-success btn-sm d-none"
                        >
                          <i class="fa fa-save"></i> Salvar
                        </button>
                        <button
                          id="btnCancelar"
                          class="btn btn-danger btn-sm d-none"
                        >
                          <i class="fa fa-times"></i> Cancelar
                        </button>
                      </div>
                    </div>
                  </div>
                  <div class="card-body">
                    <form id="formPerfil" class="needs-validation" novalidate>
                      <fieldset id="perfilFieldset" disabled>
                        <div class="row">
                          <div class="col-md-12 mb-3">
                            <label for="nome" class="form-label"
                              >Nome / Razão Social</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="nome"
                              name="nome"
                              maxlength="250"
                              required
                            />
                          </div>

                          <div class="col-md-6 mb-3">
                            <label class="form-label">Tipo de Pessoa</label>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="radio"
                                name="tipoPessoa"
                                id="pf"
                                value="F"
                                checked
                              />
                              <label class="form-check-label" for="pf"
                                >Pessoa Física</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="radio"
                                name="tipoPessoa"
                                id="pj"
                                value="J"
                              />
                              <label class="form-check-label" for="pj"
                                >Pessoa Jurídica</label
                              >
                            </div>
                          </div>

                          <div class="col-md-6 mb-3">
                            <label class="form-label">Perfil de Acesso</label>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="radio"
                                name="perfil"
                                id="usuario"
                                value="U"
                                checked
                              />
                              <label class="form-check-label" for="usuario"
                                >Usuário</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="radio"
                                name="perfil"
                                id="inspetor"
                                value="I"
                              />
                              <label class="form-check-label" for="inspetor"
                                >Inspetor</label
                              >
                            </div>
                            <div
                              class="form-check d-none"
                              id="opcaoAdministrador"
                            >
                              <input
                                class="form-check-input"
                                type="radio"
                                name="perfil"
                                id="administrador"
                                value="A"
                                disabled
                              />
                              <label
                                class="form-check-label"
                                for="administrador"
                                >Administrador</label
                              >
                            </div>
                          </div>

                          <div class="col-md-6 mb-3">
                            <label for="cpfCnpj" class="form-label"
                              >CPF / CNPJ</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="cpfCnpj"
                              name="cpfCnpj"
                              readonly
                            />
                            <small class="form-text text-muted"
                              >Este campo não pode ser alterado.</small
                            >
                          </div>

                          <div class="col-md-6 mb-3">
                            <label for="email" class="form-label">E-mail</label>
                            <input
                              type="email"
                              class="form-control"
                              id="email"
                              name="email"
                              readonly
                            />
                            <small class="form-text text-muted"
                              >Este campo não pode ser alterado.</small
                            >
                          </div>

                          <div class="col-md-6 mb-3">
                            <label for="senha" class="form-label">Senha</label>
                            <input
                              type="password"
                              class="form-control"
                              id="senha"
                              name="senha"
                              value="********"
                              readonly
                            />
                          </div>

                          <div class="col-md-6 mb-3">
                            <label for="confirmarSenha" class="form-label"
                              >Confirmar senha</label
                            >
                            <input
                              type="password"
                              class="form-control"
                              id="confirmarSenha"
                              name="confirmarSenha"
                              value="********"
                              readonly
                            />
                          </div>

                          <div class="col-md-6 mb-3">
                            <label for="celular" class="form-label"
                              >Número de Celular</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="celular"
                              name="celular"
                              maxlength="15"
                              required
                            />
                          </div>

                          <div class="col-md-12 mb-3">
                            <label for="endereco" class="form-label"
                              >Endereço</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="endereco"
                              name="endereco"
                              maxlength="100"
                              required
                            />
                          </div>

                          <div class="col-md-12 mb-3 grupo-capacitacao d-none">
                            <label for="capacitacao" class="form-label"
                              >Mensagem de Capacitação</label
                            >
                            <textarea
                              class="form-control"
                              id="capacitacao"
                              name="capacitacao"
                              rows="4"
                              maxlength="500"
                            ></textarea>
                          </div>
                        </div>
                      </fieldset>
                    </form>

                    <hr />
                    <div class="mt-3 d-flex flex-column flex-md-row gap-3">
                      <a href="#" id="linkSolicitarSenha"
                        >Solicitar mudança de senha</a
                      >
                      <button
                        type="button"
                        class="btn btn-link px-0"
                        data-bs-toggle="modal"
                        data-bs-target="#changePasswordModal"
                        id="btnAbrirAlterarSenha"
                      >
                        Alterar senha agora
                      </button>
                    </div>
                  </div>
                </div>

                <div class="card mt-4 border-danger">
                  <div class="card-header bg-danger text-white">
                    <h5 class="card-title mb-0 text-white">Zona de Perigo</h5>
                  </div>
                  <div class="card-body">
                    <p>
                      Uma vez que você apague sua conta, não há como voltar
                      atrás. Por favor, tenha certeza.
                    </p>
                    <button
                      type="button"
                      class="btn btn-danger"
                      data-bs-toggle="modal"
                      data-bs-target="#confirmDeleteModal"
                    >
                      Excluir minha conta
                    </button>
                  </div>
                </div>

                <div class="card mt-4">
                  <div class="card-header">
                    <h5 class="card-title">Denúncias Próximas</h5>
                  </div>
                  <div class="card-body">
                    <div
                      id="map"
                      style="
                        height: 400px;
                        background-color: #f0f0f0;
                        display: flex;
                        align-items: center;
                        justify-content: center;
                      "
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <footer class="footer">
          <div class="container-fluid d-flex justify-content-between">
            <nav class="pull-left">
              <ul class="nav">
                <li class="nav-item">
                  <a class="nav-link" href="sobre.html"> Sobre </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#"> Ajuda </a>
                </li>
              </ul>
            </nav>
            <div class="copyright">© 2025 - <strong>EcoDenúncia</strong></div>
            <div>Desenvolvido por <strong>EQFlash</strong>.</div>
          </div>
        </footer>
      </div>
    </div>
    <script src="assets/js/core/jquery-3.7.1.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>
    <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>
    <script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>
    <script src="assets/js/kaiadmin.min.js"></script>
    <!-- Parte da EXCLUSÃO DE PERFIL.-->
    <div
      class="modal fade"
      id="confirmDeleteModal"
      tabindex="-1"
      aria-labelledby="confirmDeleteModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <form id="formExcluirPerfil" novalidate>
            <div class="modal-header bg-danger text-white">
              <h5 class="modal-title" id="confirmDeleteModalLabel">
                <i class="fas fa-exclamation-triangle me-2"></i> Confirmar
                Exclusão de Conta
              </h5>
              <button
                type="button"
                class="btn-close btn-close-white"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p>
                <strong>Atenção!</strong> Esta ação é permanente e não pode ser
                desfeita. Todas as suas informações pessoais serão removidas.
              </p>
              <p class="text-muted">
                Para confirmar a exclusão da sua conta, por favor, digite sua
                senha atual abaixo.
              </p>

              <div class="mb-3">
                <label
                  for="senhaConfirmacaoExclusao"
                  class="form-label fw-semibold"
                  >Sua Senha Atual *</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="senhaConfirmacaoExclusao"
                  name="senhaConfirmacaoExclusao"
                  required
                />
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-secondary"
                    data-bs-dismiss="modal"
                  >
                    Cancelar
                  </button>
                  <button
                    type="submit"
                    class="btn btn-danger"
                    id="btnConfirmarExclusao"
                  >
                    Confirmar Exclusão
                  </button>
                </div>
                <div class="invalid-feedback">
                  A senha é obrigatória para confirmar.
                </div>
              </div>

              <div
                id="erroSenhaExclusao"
                class="alert alert-danger d-none"
                role="alert"
              >
                Senha incorreta. Tente novamente.
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div
      class="modal fade"
      id="changePasswordModal"
      tabindex="-1"
      aria-labelledby="changePasswordModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <form id="formMudarSenha" novalidate>
            <div class="modal-header">
              <h5 class="modal-title" id="changePasswordModalLabel">
                <i class="fas fa-key me-2"></i> Alterar Senha
              </h5>
              <button
                type="button"
                class="btn-close"
                data-bs-dismiss="modal"
                aria-label="Close"
              ></button>
            </div>
            <div class="modal-body">
              <p class="text-muted">
                Para sua segurança, informe sua senha atual e depois defina uma
                nova.
              </p>

              <div class="mb-3">
                <label for="senhaAtual" class="form-label fw-semibold"
                  >Senha Atual *</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="senhaAtual"
                  name="senhaAtual"
                  required
                />
                <div class="invalid-feedback">
                  Por favor, informe sua senha atual.
                </div>
              </div>

              <hr />
              <!-- Parte da MUDANÇA DE SENHA DO PERFIL.-->
              <div class="mb-3">
                <label for="novaSenha" class="form-label fw-semibold"
                  >Nova Senha *</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="novaSenha"
                  name="novaSenha"
                  pattern=".{6,}"
                  required
                />
                <div class="form-text">
                  A senha deve ter no mínimo 6 caracteres.
                </div>
                <div class="invalid-feedback">
                  Por favor, insira uma nova senha válida.
                </div>
              </div>

              <div class="mb-3">
                <label for="confNovaSenha" class="form-label fw-semibold"
                  >Confirmar Nova Senha *</label
                >
                <input
                  type="password"
                  class="form-control"
                  id="confNovaSenha"
                  name="confNovaSenha"
                  required
                />
                <div class="invalid-feedback">
                  A confirmação da senha é obrigatória.
                </div>
              </div>

              <div
                id="erroConfirmacaoSenha"
                class="alert alert-danger d-none"
                role="alert"
              >
                As senhas não coincidem. Tente novamente.
              </div>
            </div>
            <div class="modal-footer">
              <button
                type="button"
                class="btn btn-secondary"
                data-bs-dismiss="modal"
              >
                Cancelar
              </button>
              <button type="submit" class="btn btn-primary">
                Salvar Nova Senha
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBR8_WpBIohyVGDDD9SUrk2K__FhLtJPAA&libraries=geometry&callback=initMap"
      async
      defer
    ></script>
    <script src="assets/js/index.js"></script>
    <script src="assets/js/perfil.js"></script>
  </body>
</html>
